<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">

    <title>Jeremiah was a Frog</title>

    <meta name="keywords" content="racket">
    <meta name="canonical" href="https://rmculpepper.github.io/blog/2020/03/Jeremiah-was-a-Frog">
    <meta rel="alternate" type="application/atom+xml" title="Atom Feed"
          href="/blog/feeds/all.atom.xml">

    <link rel="next" href="/blog/2018/11/new-syntax-template-features">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/blog/favicon.png">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css"
          integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47"
          crossorigin="anonymous">
    <link rel="stylesheet"
          href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css"
          integrity="sha384-e+NM0rMilIXo+lz6+dXhoHMjd2iTSxNsCHpqkvuSBsAhwMDRF/Wn2QRRNaLxTcN/"
          crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/blog/css/pure-blog.css">
    <link rel="stylesheet" type="text/css" href="/blog/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/blog/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/blog/css/custom.css">

  </head>
  <body>


    <div class="layout pure-g">
      <div class="titlebar pure-u-1">
        <div class="header">
          <h1 class="site-title"><a href="/blog/">One Racketeer</a></h1>

          <h2 class="site-tagline">the blog of Ryan Culpepper</h2>
          <h2 class="site-alt-tagline">
            (blog-of ryanc@racket-lang.org)
          </h2>
          <nav class="nav">
            <ul class="nav-list">
              <li class="nav-item">
                <a class="pure-button" href="/blog/tags/db.html">db</a>
              </li><li class="nav-item">
                     <a class="pure-button" href="/blog/tags/macros.html">macros</a>
                   </li><li class="nav-item">
                          <a class="pure-button" href="/blog/tags/racket.html">racket</a>
                        </li>
            </ul>
          </nav>
        </div>
      </div>
      <div class="content pure-u-1">

        <div class="content-inner">


          <article class="post">
  <header class="post-header">
    <h1 class="post-title">Jeremiah was a Frog</h1>
    <div class="post-meta">
      <div class="authors">By: Ryan Culpepper</div>
      <span class="post-date"><time datetime="2020-03-17">2020-03-17</time></span>
      <span class="post-tags"><a href="/blog/tags/racket.html">racket</a></span>
    </div>
  </header>
  <p>I&rsquo;m rebooting my blog, previously
<a href="https://macrologist.blogspot.com/">hosted on Blogspot</a>. I finished
a conversion to <a href="https://github.com/greghendershott/frog">Frog</a> some time ago &#8212;<wbr></wbr> there weren&rsquo;t that many posts to
convert, and I was already using Scribble and my now-defunct tool
<a href="https://blog.racket-lang.org/2012/04/scribble-your-blogs.html">Scriblogify</a>.
But there was just one thing I wanted to fix about Frog&rsquo;s Scribble rendering
first. And then there was another thing, and so on, and in the end I wound up
with something different enough to give it a new name.</p>
<p><a href="https://github.com/rmculpepper/racket-jeremiah">Jeremiah</a> is a
static blog generator that evolved out of a heavily modified version of
<a href="https://github.com/greghendershott/frog">Frog</a>. During this evolution, the code lost several of the virtues of the
original, such as tests, documentation, and features. It&rsquo;s not
finished. It&rsquo;s not compatible with Frog. It&rsquo;s not stable &#8212;<wbr></wbr> there are still
frequent breaking changes.</p>
<p></p>
<div class="SIntrapara">Here are some of the differences from Frog:
</div>
<div class="SIntrapara"><ul><li><p>Scribble metadata is written in comments before the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#lang</span><span class="hspace"></span></span>
line. The title can also be extracted from the page content. For example,
the metadata from this post is declared as follows:</p><div class="SCodeFlow"><table cellpadding="0" cellspacing="0" class="RktBlk"><tbody><tr><td><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Date:</span><span class="hspace">&nbsp;</span><span class="RktCmt">2020-03-17</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Tags:</span><span class="hspace">&nbsp;</span><span class="RktCmt">racket</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">#lang</span><span class="hspace">&nbsp;</span><span class="RktMeta">scribble/manual</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">@</span><span class="RktSym">title</span><span class="RktPn">{</span><span class="RktMeta">Jeremiah</span><span class="hspace">&nbsp;</span><span class="RktMeta">was</span><span class="hspace">&nbsp;</span><span class="RktMeta">a</span><span class="hspace">&nbsp;</span><span class="RktMeta">Frog</span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">....</span><span class="RktMeta"></span></td></tr></tbody></table></div></li><li><p>If Frog&rsquo;s attitude is &ldquo;here, let me get that for you&rdquo;, Jeremiah&rsquo;s
attitude is &ldquo;that looks like something you can handle yourself&rdquo;. Here
are a few examples of this philosophy:</p><ul><li><p>Jeremiah provides hooks for producing HTML, but you must give it
functions, not template files. You&rsquo;re welcome to implement those functions
using <span class="RktSym"><a class="RktStxLink Sq" data-pltdoc="x" href="https://docs.racket-lang.org/web-server/templates.html#%28form._%28%28lib._web-server%2Ftemplates..rkt%29._include-template%29%29">include-template</a></span>, of course, but Jeremiah doesn&rsquo;t want to
know. (Actually, Jeremiah comes with a default template that uses
<span class="RktSym"><a class="RktStxLink Sq" data-pltdoc="x" href="https://docs.racket-lang.org/web-server/templates.html#%28form._%28%28lib._web-server%2Ftemplates..rkt%29._include-template%29%29">include-template</a></span> and provides sub-hooks to make HTML generation
easier.)</p></li><li><p>A site configuration file is just an ordinary Racket module that
gets <span class="RktSym"><a class="RktValLink Sq" data-pltdoc="x" href="https://docs.racket-lang.org/reference/Module_Names_and_Loading.html#%28def._%28%28quote._~23~25kernel%29._dynamic-require%29%29">dynamic-require</a></span>d for side-effect at the beginning of
processing. You must require <font class="badlink"><span class="RktModLink"><span class="RktSym">jeremiah/config</span></span></font> and set
the necessary parameters. Jeremiah currently doesn&rsquo;t even set the
<span class="RktSym"><a class="RktValLink Sq" data-pltdoc="x" href="https://docs.racket-lang.org/reference/Filesystem.html#%28def._%28%28quote._~23~25kernel%29._current-directory%29%29">current-directory</a></span> to the configuration file&rsquo;s directory,
because you can use <span class="RktSym"><a class="RktStxLink Sq" data-pltdoc="x" href="https://docs.racket-lang.org/reference/Filesystem.html#%28form._%28%28lib._racket%2Fruntime-path..rkt%29._define-runtime-path%29%29">define-runtime-path</a></span> to get absolute paths
from module-relative paths.</p></li><li><p>The command-line interface doesn&rsquo;t have a <span class="stt">--verbose</span> flag;
instead, Jeremiah logs to the <span class="stt">jeremiah</span> topic; the <span class="stt">info</span> level
corresponds to verbose output, and <span class="stt">debug</span> is very verbose.</p></li></ul></li><li><p>Jeremiah uses a different directory layout. Static sources are copied
to the output directory on each build, so cleaning up can be done with
<span class="stt">rm -rf</span>. The layout is not currently configurable.</p></li><li><p>Jeremiah currently writes each post to its own directory. This
makes it slightly easier to handle Scribble posts that generate
auxiliary files like images.</p></li><li><p>Jeremiah uses Racket classes and objects pervasively in its
implementation and in the interface it exposes for HTML generation. For
example, the main page generator, instead of getting an environment with
lots of variables, gets the following: <span class="stt">Page</span> object (which might be a
<span class="stt">Post</span> or an <span class="stt">IndexPage</span>) and a <span class="stt">Site</span> object (and the latter is a
parameter, not an argument). From these objects you can extract titles,
dates, various links, HTML content, etc.</p></li><li><p>Jeremiah currently has none of Frog&rsquo;s widgets and body
enhancers. I&rsquo;ll probably adapt them case-by-case as I need them.</p></li><li><p>Jeremiah generates only Atom feeds (no RSS), and it uses the
<a href="https://taguri.org/">tag URI scheme</a> for generating feed
and post identifiers.</p></li></ul></div>
<p>Despite the changes, Jeremiah owes a lot to Frog. It&rsquo;s easier to make
changes &#8212;<wbr></wbr> even significant changes &#8212;<wbr></wbr> to a design and
implementation that works than to create one from scratch. Jeremiah
also keeps parts of Frog&rsquo;s structure and some of the trickier
implementation bits with minimal changes. So many thanks to Greg
Hendershott and the other contributors to Frog!</p>
<blockquote class="SCentered"><p></p><div class="SIntrapara"><img alt="image" height="586" src="pict.png" style="vertical-align: 0px; margin: -3px -3px -3px -3px;" width="586"/></div><div class="SIntrapara">Joy to the fishes!</div></blockquote>
  <footer>
    <nav class="post-navigation" aria-label="Post Navigation">
  <div class="pure-menu">
  <ul class="pure-menu-list">

    <li class="pure-menu-item">
      <a class="pure-menu-link" href="/blog/2018/11/new-syntax-template-features"
         aria-label="Next">
        <span aria-hidden="true">new syntax template features &rarr;</span>
      </a>
    </li>
  </ul>
  </div>
</nav>
  </footer>
</article>


        </div>
        <div class="page-copyright">
          <div class="page-copyright-icon">
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
              <img alt="Creative Commons License" style="border-width:0"
                   src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a>
          </div>
          <div class="page-copyright-text">
            Copyright 2020 Ryan Culpepper.
            This work is licensed under a
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
            Creative Commons Attribution-ShareAlike 4.0 International License</a>.
          </div>
        </div>
      </div>
    </div>

  </body>
</html>